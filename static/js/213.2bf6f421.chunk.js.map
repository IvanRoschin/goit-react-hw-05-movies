{"version":3,"file":"static/js/213.2bf6f421.chunk.js","mappings":"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","sources":["components/api/constants/apiKeys.js","components/api/api.jsx","components/api/constants/baseUrls.js","components/api/constants/status.jsx","pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","components/Services/Round.jsx"],"sourcesContent":["const API_KEY = '7b857fa55c7b70b9ad8d603bfe522c1c';\n\nexport default API_KEY;\n","import axios from 'axios';\n\nimport API_KEY from './constants/apiKeys';\nimport { BASE_TRENDING_MOVIES_URL } from './constants/baseUrls';\n\naxios.defaults.baseURL = BASE_TRENDING_MOVIES_URL;\n\n// FETCH FILMS FOR THE FIRST TIME\nexport const getTrending = async (page = 1) => {\n  const response = await axios.get(\n    `/trending/movie/day?api_key=${API_KEY}&page=${page}`\n  );\n  return response.data;\n};\n\n// FETCH FILMS BY ID\nexport const getFilmById = async id => {\n  const { data } = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n  return data;\n};\n\n// FETCH FILMS USING FORM\nexport const getSearchMovie = async (query, page) => {\n  const { data } = await axios.get(\n    `/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=${page}`\n  );\n  if (data.total_results === 0) {\n    return Promise.reject(new Error(`Ooops! No images with ${query}`));\n  } else {\n    return data;\n  }\n};\n\n// FETCH CAST\nexport const getMovieCast = async id => {\n  const response = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n  if (response.data.cast.length === 0) {\n    return Promise.reject(new Error(`No cast was found.`));\n  } else {\n    return response.data.cast;\n  }\n};\n\n// FETCH REVIEWS\nexport const getMovieReviews = async id => {\n  const response = await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`);\n  if (response.data.total_results === 0) {\n    return Promise.reject(new Error(`No reviews was found.`));\n  } else {\n    return response.data.results;\n  }\n};\n","const BASE_TRENDING_MOVIES_URL = 'https://api.themoviedb.org/3';\n\nconst BASE_GENRE_URL = 'https://api.themoviedb.org/3/genre/movie/list?';\n\nconst BASE_POSTER_URL = 'https://image.tmdb.org/t/p';\n\nexport { BASE_TRENDING_MOVIES_URL, BASE_POSTER_URL, BASE_GENRE_URL };\n\nexport const IMG_W500 = `/w500`;\nexport const IMG_W400 = `/w400`;\nexport const IMG_W300 = `/w300`;\nexport const IMG_W200 = `/w200`;\nexport const IMG_W100 = `/w100`;\nexport const IMG_ORIG = `/original`;\n","export const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n","import styled from 'styled-components';\nimport { Link, NavLink } from 'react-router-dom';\n\nexport const Container = styled.div`\n  margin-top: 16px;\n  margin-left: 16px;\n`;\n\nexport const FilmContainer = styled.div`\n  margin-top: 16px;\n  display: flex;\n  gap: 16px;\n`;\n\nexport const DetailsContainer = styled.div`\n  margin-top: 32px;\n`;\n\nexport const FilmTitle = styled.h2`\n  font-size: 24px;\n  font-weight: 700;\n  margin-bottom: 32px;\n`;\n\nexport const VoteAverage = styled.p`\n  color: ${p => p.theme.colors.red};\n  font-weight: 700;\n  margin-bottom: ${p => p.theme.space[5]}px; ;\n`;\n\nexport const BlockTitle = styled.h3`\n  font-weight: 700;\n  margin-bottom: ${p => p.theme.space[3]}px;\n`;\n\nexport const Overview = styled.p`\n  margin-bottom: ${p => p.theme.space[5]}px;\n`;\n\nexport const GenreList = styled.p`\n  display: flex;\n  gap: ${p => p.theme.space[3]}px;\n  list-style: none;\n`;\n\nexport const AditionalInfoContainer = styled.ul`\n  margin-top: ${p => p.theme.space[3]}px;\n  list-style: disc;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const NavItem = styled(NavLink)`\n  font-family: ${p => p.theme.fonts.body};\n  font-size: ${p => p.theme.fontSizes.ml};\n  font-weight: ${p => p.theme.fontWeights.bold};\n  display: flex;\n  aling-items: center;\n  gap: ${p => p.theme.space[3]}px;\n  padding: ${p => p.theme.space[3]}px;\n  border-radius: ${p => p.theme.radii.small};\n  text-decoration: none;\n  color: ${p => p.theme.colors.black};\n  transition: ${p => p.theme.transition.main};\n\n  &.active {\n    // background-color: ${p => p.theme.colors.primary};\n    color: ${p => p.theme.colors.red};\n    border-bottom: ${p => p.theme.borders.normal};\n    border-color: ${p => p.theme.colors.red};\n  }\n\n  :hover:not(.active),\n  focus-visible:not(.active) {\n    color: ${p => p.theme.colors.red};\n  }\n`;\n\nexport const GoBackLink = styled(Link)`\n  padding: ${p => p.theme.space[2]}px;\n  color: ${p => p.theme.colors.black};\n  &:hover {\n    color: ${p => p.theme.colors.red};\n  }\n`;\n\nexport const GoBackText = styled.span`\n  padding: ${p => p.theme.space[3]}px;\n  font-weight: ${p => p.theme.fontWeights.bold};\n`;\n","import { Outlet, useLocation, useParams } from 'react-router-dom';\nimport {\n  NavItem,\n  Container,\n  FilmContainer,\n  DetailsContainer,\n  FilmTitle,\n  VoteAverage,\n  BlockTitle,\n  Overview,\n  GenreList,\n  AditionalInfoContainer,\n  GoBackLink,\n  GoBackText,\n} from './MovieDetails.styled';\nimport { useState, useEffect, Suspense } from 'react';\nimport { getFilmById } from '../../components/api/api';\nimport { Status } from '../../components/api/constants/status';\nimport {\n  setReleaseDate,\n  setReleaseVote,\n} from '../../components/Services/Round';\nimport { BASE_POSTER_URL, IMG_W300 } from 'components/api/constants/baseUrls';\nimport { GiReturnArrow } from 'react-icons/gi';\nconst navItems = [\n  { href: 'cast', text: 'Cast' },\n  { href: 'reviews', text: 'Reviews' },\n];\n\nconst MovieDetails = () => {\n  const [status, setStatus] = useState(Status.IDLE);\n  const { movieId } = useParams();\n  const [filmDetails, setFilmDetails] = useState({});\n  const [filmGenre, setFilmGenre] = useState([]);\n  const { poster_path, name, title, vote_average, overview, release_date } =\n    filmDetails;\n  const location = useLocation();\n  const backLinkHref = location?.state?.from ?? '/movies';\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    async function setMovieById() {\n      setStatus(Status.PENDING);\n\n      try {\n        const res = await getFilmById(movieId);\n        setStatus(Status.RESOLVED);\n        setFilmDetails(res);\n        setFilmGenre(res.genres);\n      } catch (error) {\n        setStatus(Status.REJECTED);\n        console.log(error);\n      }\n    }\n    setMovieById();\n  }, [movieId]);\n\n  let imagePath = ``;\n  !poster_path\n    ? (imagePath = `https://raw.githubusercontent.com/marvall/filmoteka/main/src/images/no-poster.png`)\n    : (imagePath = `${BASE_POSTER_URL}/${IMG_W300}/${poster_path}`);\n\n  return (\n    <>\n      {status === 'pending'}\n      {status === 'resolved' && (\n        <Container>\n          <GoBackLink to={backLinkHref}>\n            <GiReturnArrow size={10} />\n            <GoBackText>Go back</GoBackText>\n          </GoBackLink>\n          <FilmContainer>\n            <div>\n              <img src={imagePath} alt={title || name} loading=\"lazy\" />\n            </div>\n            <DetailsContainer>\n              <FilmTitle>\n                {title} ( {setReleaseDate(release_date) || `date not found`})\n              </FilmTitle>\n              <VoteAverage>\n                <span>Average:</span>\n                {setReleaseVote(vote_average) || `vote not found`}\n              </VoteAverage>\n              <BlockTitle>Overview</BlockTitle>\n              <Overview>{overview}</Overview>\n              <BlockTitle>Genres</BlockTitle>\n              {\n                <GenreList>\n                  {filmGenre.map(({ name }) => {\n                    return <li key={name}>{name}</li>;\n                  })}\n                </GenreList>\n              }\n            </DetailsContainer>\n          </FilmContainer>\n          <BlockTitle>Aditional information</BlockTitle>\n          <AditionalInfoContainer>\n            {navItems.map(({ href, text }) => (\n              <NavItem to={href} key={href}>\n                {text}\n              </NavItem>\n            ))}\n          </AditionalInfoContainer>\n          <Suspense fallback={<div>Loading page...</div>}>\n            <Outlet context={movieId} />\n          </Suspense>\n        </Container>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","export function setReleaseDate(releaseDate, firstDate) {\n  if (releaseDate) {\n    return releaseDate.slice(0, 4);\n  } else if (firstDate) {\n    return firstDate.slice(0, 4);\n  }\n}\n\nexport function setReleaseVote(vote) {\n  if (vote * 1 === 0) {\n    return null;\n  }\n  return vote.toFixed(1);\n}\n"],"names":["axios","BASE_TRENDING_MOVIES_URL","getTrending","page","API_KEY","response","data","getFilmById","id","getSearchMovie","query","total_results","Promise","reject","Error","getMovieCast","cast","length","getMovieReviews","results","BASE_POSTER_URL","IMG_W500","IMG_W300","IMG_W200","Status","IDLE","PENDING","RESOLVED","REJECTED","Container","styled","FilmContainer","DetailsContainer","FilmTitle","VoteAverage","p","theme","colors","red","space","BlockTitle","Overview","GenreList","AditionalInfoContainer","NavItem","NavLink","fonts","body","fontSizes","ml","fontWeights","bold","radii","small","black","transition","main","primary","borders","normal","GoBackLink","Link","GoBackText","navItems","href","text","useState","status","setStatus","movieId","useParams","filmDetails","setFilmDetails","filmGenre","setFilmGenre","poster_path","name","title","vote_average","overview","release_date","location","useLocation","backLinkHref","state","from","useEffect","res","genres","console","log","setMovieById","vote","releaseDate","firstDate","imagePath","to","size","src","alt","loading","slice","toFixed","map","Suspense","fallback","context"],"sourceRoot":""}