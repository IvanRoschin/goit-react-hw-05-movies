"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[213],{2611:function(n,e,t){t.d(e,{ts:function(){return p},M1:function(){return d},tx:function(){return h},gH:function(){return l},Hg:function(){return f}});var r=t(5861),o=t(7757),c=t.n(o),i=t(4569),a=t.n(i),u="7b857fa55c7b70b9ad8d603bfe522c1c",s=t(3152);a().defaults.baseURL=s.Rh;var f=function(){var n=(0,r.Z)(c().mark((function n(){var e,t,r=arguments;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,n.next=3,a().get("/trending/movie/day?api_key=".concat(u,"&page=").concat(e));case 3:return t=n.sent,n.abrupt("return",t.data);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(c().mark((function n(e){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a().get("/movie/".concat(e,"?api_key=").concat(u));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(c().mark((function n(e){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a().get("/search/movie?api_key=".concat(u,"&language=en-US&query=").concat(e));case 2:if(t=n.sent,0!==(r=t.data).total_results){n.next=8;break}return n.abrupt("return",Promise.reject(new Error("Ooops! No images with ".concat(e))));case 8:return n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a().get("/movie/".concat(e,"/credits?api_key=").concat(u));case 2:if(0!==(t=n.sent).data.cast.length){n.next=7;break}return n.abrupt("return",Promise.reject(new Error("No cast was found.")));case 7:return n.abrupt("return",t.data.cast);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,r.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a().get("/movie/".concat(e,"/reviews?api_key=").concat(u));case 2:if(0!==(t=n.sent).data.total_results){n.next=7;break}return n.abrupt("return",Promise.reject(new Error("No reviews was found.")));case 7:return n.abrupt("return",t.data.results);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},3152:function(n,e,t){t.d(e,{QN:function(){return i},Rh:function(){return r},cv:function(){return c},fh:function(){return o},nP:function(){return a}});var r="https://api.themoviedb.org/3",o="https://image.tmdb.org/t/p",c="/w500",i="/w300",a="/w200"},336:function(n,e,t){t.d(e,{q:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},7213:function(n,e,t){t.r(e),t.d(e,{default:function(){return T}});var r,o,c,i,a,u,s,f,p,l,d,h,m=t(5861),v=t(885),x=t(7757),g=t.n(x),b=t(7689),w=t(168),Z=t(6444),j=t(6731),k=Z.ZP.div(r||(r=(0,w.Z)(["\n  margin-top: ","px;\n  margin-left: ","px;\n"])),(function(n){return n.theme.space[5]}),(function(n){return n.theme.space[5]})),y=Z.ZP.div(o||(o=(0,w.Z)(["\n  margin-top: ","px;\n  display: flex;\n  gap: ","px;\n"])),(function(n){return n.theme.space[5]}),(function(n){return n.theme.space[5]})),E=Z.ZP.div(c||(c=(0,w.Z)(["\n  margin-top: ","px; ;\n"])),(function(n){return n.theme.space[6]})),P=Z.ZP.h2(i||(i=(0,w.Z)(["\n  font-size: ",";\n  font-weight: ",";\n  margin-bottom: ","px; ;\n"])),(function(n){return n.theme.fontSizes.lm}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.space[6]})),_=Z.ZP.p(a||(a=(0,w.Z)(["\n  font-weight: ",";\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.space[6]})),S=Z.ZP.h3(u||(u=(0,w.Z)(["\n  font-weight: ",";\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.space[3]})),N=Z.ZP.p(s||(s=(0,w.Z)(["\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.space[5]})),D=Z.ZP.p(f||(f=(0,w.Z)(["\n  display: flex;\n  gap: ","px;\n  list-style: none;\n"])),(function(n){return n.theme.space[3]})),R=Z.ZP.ul(p||(p=(0,w.Z)(["\n  margin-top: ","px;\n  list-style: disc;\n  display: flex;\n  flex-direction: column;\n"])),(function(n){return n.theme.space[3]})),L=(0,Z.ZP)(j.OL)(l||(l=(0,w.Z)(["\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  display: flex;\n  aling-items: center;\n  gap: ","px;\n  padding: ","px;\n  border-radius: ",";\n  text-decoration: none;\n  color: ",";\n  transition: ",";\n\n  &.active {\n    // background-color: ",";\n    color: ",";\n    border-bottom: ",";\n    border-color: ",";\n  }\n\n  :hover:not(.active),\n  focus-visible:not(.active) {\n    color: ",";\n  }\n"])),(function(n){return n.theme.fonts.body}),(function(n){return n.theme.fontSizes.ml}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.small}),(function(n){return n.theme.colors.black}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.red}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.colors.red}),(function(n){return n.theme.colors.red})),q=(0,Z.ZP)(j.rU)(d||(d=(0,w.Z)(["\n  padding: ","px;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.red})),z=Z.ZP.span(h||(h=(0,w.Z)(["\n  padding: ","px;\n  font-weight: ",";\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.fontWeights.bold})),O=t(2791),C=t(2611),I=t(336);var U=t(3152),W=t(8014),G=t(184),H=[{href:"cast",text:"Cast"},{href:"reviews",text:"Reviews"}],T=function(){var n,e,t=(0,O.useState)(I.q.IDLE),r=(0,v.Z)(t,2),o=r[0],c=r[1],i=(0,b.UO)().movieId,a=(0,O.useState)({}),u=(0,v.Z)(a,2),s=u[0],f=u[1],p=(0,O.useState)([]),l=(0,v.Z)(p,2),d=l[0],h=l[1],x=s.poster_path,w=s.name,Z=s.title,j=s.vote_average,T=s.overview,F=s.release_date,J=(0,b.TH)(),Q=null!==(n=null===J||void 0===J||null===(e=J.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/movies";(0,O.useEffect)((function(){function n(){return(n=(0,m.Z)(g().mark((function n(){var e;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(I.q.PENDING),n.prev=1,n.next=4,(0,C.ts)(i);case 4:e=n.sent,c(I.q.RESOLVED),f(e),h(e.genres),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),c(I.q.REJECTED),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}i&&function(){n.apply(this,arguments)}()}),[i]);var V,A,M,B="";return B=x?"".concat(U.fh,"/").concat(U.QN,"/").concat(x):"https://raw.githubusercontent.com/marvall/filmoteka/main/src/images/no-poster.png",(0,G.jsxs)(G.Fragment,{children:["pending"===o,"resolved"===o&&(0,G.jsxs)(k,{children:[(0,G.jsxs)(q,{to:Q,children:[(0,G.jsx)(W.lox,{size:10}),(0,G.jsx)(z,{children:"Go back"})]}),(0,G.jsxs)(y,{children:[(0,G.jsx)("div",{children:(0,G.jsx)("img",{src:B,alt:Z||w,loading:"lazy"})}),(0,G.jsxs)(E,{children:[(0,G.jsxs)(P,{children:[Z," ( ",(A=F,(A?A.slice(0,4):M?M.slice(0,4):void 0)||"date not found"),")"]}),(0,G.jsxs)(_,{children:[(0,G.jsx)("span",{children:"User Score:"}),(V=j,(1*V===0?null:V.toFixed(1))||"vote not found")]}),(0,G.jsx)(S,{children:"Overview"}),(0,G.jsx)(N,{children:T}),(0,G.jsx)(S,{children:"Genres"}),(0,G.jsx)(D,{children:d.map((function(n){var e=n.name;return(0,G.jsx)("li",{children:e},e)}))})]})]}),(0,G.jsx)(S,{children:"Aditional information"}),(0,G.jsx)(R,{children:H.map((function(n){var e=n.href,t=n.text;return(0,G.jsx)(L,{to:e,children:t},e)}))}),(0,G.jsx)(O.Suspense,{fallback:(0,G.jsx)("div",{children:"Loading page..."}),children:(0,G.jsx)(b.j3,{context:i})})]})]})}}}]);
//# sourceMappingURL=213.f462b443.chunk.js.map