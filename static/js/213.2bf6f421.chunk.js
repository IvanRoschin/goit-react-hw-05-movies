"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[213],{2611:function(n,e,t){t.d(e,{ts:function(){return p},M1:function(){return d},tx:function(){return h},gH:function(){return l},Hg:function(){return f}});var r=t(5861),o=t(7757),a=t.n(o),c=t(4569),i=t.n(c),u="7b857fa55c7b70b9ad8d603bfe522c1c",s=t(3152);i().defaults.baseURL=s.Rh;var f=function(){var n=(0,r.Z)(a().mark((function n(){var e,t,r=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,n.next=3,i().get("/trending/movie/day?api_key=".concat(u,"&page=").concat(e));case 3:return t=n.sent,n.abrupt("return",t.data);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/movie/".concat(e,"?api_key=").concat(u));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(a().mark((function n(e,t){var r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/search/movie?api_key=".concat(u,"&language=en-US&query=").concat(e,"&page=").concat(t));case 2:if(r=n.sent,0!==(o=r.data).total_results){n.next=8;break}return n.abrupt("return",Promise.reject(new Error("Ooops! No images with ".concat(e))));case 8:return n.abrupt("return",o);case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(a().mark((function n(e){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/movie/".concat(e,"/credits?api_key=").concat(u));case 2:if(0!==(t=n.sent).data.cast.length){n.next=7;break}return n.abrupt("return",Promise.reject(new Error("No cast was found.")));case 7:return n.abrupt("return",t.data.cast);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,r.Z)(a().mark((function n(e){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().get("/movie/".concat(e,"/reviews?api_key=").concat(u));case 2:if(0!==(t=n.sent).data.total_results){n.next=7;break}return n.abrupt("return",Promise.reject(new Error("No reviews was found.")));case 7:return n.abrupt("return",t.data.results);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},3152:function(n,e,t){t.d(e,{QN:function(){return c},Rh:function(){return r},cv:function(){return a},fh:function(){return o},nP:function(){return i}});var r="https://api.themoviedb.org/3",o="https://image.tmdb.org/t/p",a="/w500",c="/w300",i="/w200"},336:function(n,e,t){t.d(e,{q:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},7213:function(n,e,t){t.r(e),t.d(e,{default:function(){return A}});var r,o,a,c,i,u,s,f,p,l,d,h,m=t(5861),v=t(885),x=t(7757),g=t.n(x),b=t(7689),w=t(168),Z=t(6444),j=t(1087),k=Z.ZP.div(r||(r=(0,w.Z)(["\n  margin-top: 16px;\n  margin-left: 16px;\n"]))),y=Z.ZP.div(o||(o=(0,w.Z)(["\n  margin-top: 16px;\n  display: flex;\n  gap: 16px;\n"]))),E=Z.ZP.div(a||(a=(0,w.Z)(["\n  margin-top: 32px;\n"]))),P=Z.ZP.h2(c||(c=(0,w.Z)(["\n  font-size: 24px;\n  font-weight: 700;\n  margin-bottom: 32px;\n"]))),_=Z.ZP.p(i||(i=(0,w.Z)(["\n  color: ",";\n  font-weight: 700;\n  margin-bottom: ","px; ;\n"])),(function(n){return n.theme.colors.red}),(function(n){return n.theme.space[5]})),N=Z.ZP.h3(u||(u=(0,w.Z)(["\n  font-weight: 700;\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.space[3]})),D=Z.ZP.p(s||(s=(0,w.Z)(["\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.space[5]})),R=Z.ZP.p(f||(f=(0,w.Z)(["\n  display: flex;\n  gap: ","px;\n  list-style: none;\n"])),(function(n){return n.theme.space[3]})),S=Z.ZP.ul(p||(p=(0,w.Z)(["\n  margin-top: ","px;\n  list-style: disc;\n  display: flex;\n  flex-direction: column;\n"])),(function(n){return n.theme.space[3]})),L=(0,Z.ZP)(j.OL)(l||(l=(0,w.Z)(["\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n  display: flex;\n  aling-items: center;\n  gap: ","px;\n  padding: ","px;\n  border-radius: ",";\n  text-decoration: none;\n  color: ",";\n  transition: ",";\n\n  &.active {\n    // background-color: ",";\n    color: ",";\n    border-bottom: ",";\n    border-color: ",";\n  }\n\n  :hover:not(.active),\n  focus-visible:not(.active) {\n    color: ",";\n  }\n"])),(function(n){return n.theme.fonts.body}),(function(n){return n.theme.fontSizes.ml}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.small}),(function(n){return n.theme.colors.black}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.red}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.colors.red}),(function(n){return n.theme.colors.red})),q=(0,Z.ZP)(j.rU)(d||(d=(0,w.Z)(["\n  padding: ","px;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.red})),O=Z.ZP.span(h||(h=(0,w.Z)(["\n  padding: ","px;\n  font-weight: ",";\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.fontWeights.bold})),z=t(2791),C=t(2611),I=t(336);var G=t(3152),U=t(8014),H=t(184),T=[{href:"cast",text:"Cast"},{href:"reviews",text:"Reviews"}],A=function(){var n,e,t=(0,z.useState)(I.q.IDLE),r=(0,v.Z)(t,2),o=r[0],a=r[1],c=(0,b.UO)().movieId,i=(0,z.useState)({}),u=(0,v.Z)(i,2),s=u[0],f=u[1],p=(0,z.useState)([]),l=(0,v.Z)(p,2),d=l[0],h=l[1],x=s.poster_path,w=s.name,Z=s.title,j=s.vote_average,A=s.overview,F=s.release_date,J=(0,b.TH)(),Q=null!==(n=null===J||void 0===J||null===(e=J.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/movies";(0,z.useEffect)((function(){function n(){return(n=(0,m.Z)(g().mark((function n(){var e;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(I.q.PENDING),n.prev=1,n.next=4,(0,C.ts)(c);case 4:e=n.sent,a(I.q.RESOLVED),f(e),h(e.genres),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),a(I.q.REJECTED),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}c&&function(){n.apply(this,arguments)}()}),[c]);var V,W,M,B="";return B=x?"".concat(G.fh,"/").concat(G.QN,"/").concat(x):"https://raw.githubusercontent.com/marvall/filmoteka/main/src/images/no-poster.png",(0,H.jsxs)(H.Fragment,{children:["pending"===o,"resolved"===o&&(0,H.jsxs)(k,{children:[(0,H.jsxs)(q,{to:Q,children:[(0,H.jsx)(U.lox,{size:10}),(0,H.jsx)(O,{children:"Go back"})]}),(0,H.jsxs)(y,{children:[(0,H.jsx)("div",{children:(0,H.jsx)("img",{src:B,alt:Z||w,loading:"lazy"})}),(0,H.jsxs)(E,{children:[(0,H.jsxs)(P,{children:[Z," ( ",(W=F,(W?W.slice(0,4):M?M.slice(0,4):void 0)||"date not found"),")"]}),(0,H.jsxs)(_,{children:[(0,H.jsx)("span",{children:"Average:"}),(V=j,(1*V===0?null:V.toFixed(1))||"vote not found")]}),(0,H.jsx)(N,{children:"Overview"}),(0,H.jsx)(D,{children:A}),(0,H.jsx)(N,{children:"Genres"}),(0,H.jsx)(R,{children:d.map((function(n){var e=n.name;return(0,H.jsx)("li",{children:e},e)}))})]})]}),(0,H.jsx)(N,{children:"Aditional information"}),(0,H.jsx)(S,{children:T.map((function(n){var e=n.href,t=n.text;return(0,H.jsx)(L,{to:e,children:t},e)}))}),(0,H.jsx)(z.Suspense,{fallback:(0,H.jsx)("div",{children:"Loading page..."}),children:(0,H.jsx)(b.j3,{context:c})})]})]})}}}]);
//# sourceMappingURL=213.2bf6f421.chunk.js.map